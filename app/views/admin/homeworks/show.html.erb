<%= content_tag(:div, class: "row") do %>
  <%= content_tag(:div, class: "col-xl-6 col-md-12") do %>
    <%= turbo_frame_tag dom_id(@homework) do %>
      <%= render(Card::BaseComponent.new(title: @homework.title, footer_text: "#{@homework.events.count} eventos creados", color: 'primary', row_classes: "col-12")) do %>
        <%= @homework.description %>
      <% end %>
    <% end %>
  <% end %>
  <!-- <%= content_tag(:div, class: "col-xl-6 col-md-12") do %>
    <%= content_tag(:div, class: "card") do %>
      <%= content_tag(:div, class: "card-body") do %>
        <%= content_tag(:table, class: "table") do %>
          <%= content_tag(:body) do %>
            <%= render 'form', homework: @homework %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %> -->
  <!-- <%= content_tag(:div, class: "col-xl-6 col-md-12") do %>
    <%= content_tag(:div, class: "card card-chart") do %>
      <%= content_tag(:div, class: "card-header card-header-primary") do %>
        <%= content_tag(:div, {class: "ct-chart", id: @chart_id}) do %>
          <%= column_chart Event.report_week(@homework.events), id:"column_chart report-week-events", colors: ["#eeeeeea9"], download: "weekly_events_report", refresh: 60, :library => {:colors => ["#eeeeeea9"]} %>   
        <% end %>
      <% end %>
      <%= content_tag(:div, class: "card-body") do %>
        <%= content_tag(:h4, "Eventos Semanales Totales", class: "card-title") %>
        <%= content_tag(:p, "Recuento de los eventos asociados a esta tarea.", class: "card-category") %>
      <% end %>
      <%= render(Card::FooterComponent.new(title: "#{Event.count} eventos creados.", icon: 'list')) %>
    <% end %>
  <% end %> -->
  <%#= content_tag(:div, class: "col-12") do %>
    <%#= link_to 'Editar', edit_admin_homework_path(@homework), class: "btn btn-primary pull-right" %>
    <%#= link_to 'Eventos', admin_homework_events_path(@homework), class: "btn btn-secondary pull-right" %>
    <%#= link_to 'Volver', admin_homeworks_path, class: "btn" %>
  <%# end %>
<% end %>
<%= content_tag(:div, class: "row") do %>
  <%= content_tag(:div, class: "col-xl-6 col-md-12") do %>
    <%= render(Card::BaseComponent.new(title: "Eventos relacionados a la tarea.", color: 'primary', row_classes: "col-12")) do %>
      <%= render(Admin::Table::Component.new(items: @homework.events)) %>
    <% end %>
  <% end %>
<% end %>

<%= content_tag(:div, class: "row") do %>
  <%= content_tag(:div, class: "col-12", data: {controller: "reveal", reveal_hidden_class: "d-none"}) do %>
    <%= content_tag(:div, render(Button::BaseComponent.new(title:'Nuevo Evento', color:'primary', classes:"pull-right", data: { action:"click->reveal#toggle", reveal_target: "item" })), class: "col-12") %>
    <%= content_tag(:div, class: "d-none col-12", data:{ reveal_target: "item" } ) do %>
      <%= content_tag(:div, class: "card") do %>
        <%= render(Card::HeaderComponent.new(title: @homework.title, subtitle: "Nuevo evento asociado.", color: "primary")) %>
        <%= content_tag(:div, class: "card-body") do %>
          <%= form_with(model: [:admin, @homework, @homework.events.build]) do |form| %>
            <%= render 'admin/events/form_fields', form: form %>
            <%= form.submit "Guardar", class: "btn btn-primary pull-right" %>
            <%= render(Button::BaseComponent.new(title:'Cancelar', color:'none', data: { action:"click->reveal#toggle" })) %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
