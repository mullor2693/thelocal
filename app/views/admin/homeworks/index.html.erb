<%= content_tag(:div, class: "row") do %>

  <%= render(Card::BaseComponent.new(title: "Gestión de Tareas", category: "Aqui puedes ver tus tareas añadidas y gestionar eventos.", footer_text: "#{Homework.count} tareas creadas.", color: 'primary', scroll: true)) do %>
    <%= render Admin::Table::Component.new(items: @homeworks) %>
  <% end %>

  <%= content_tag(:div, class: "col-xl-6 col-md-12") do %>
    <%= content_tag(:div, class: "card card-chart") do %>
      <%= content_tag(:div, class: "card-header card-header-primary") do %>
        <%= content_tag(:div, {class: "ct-chart", id: @chart_id}) do %>
          <%= column_chart Event.report_week, id:"column_chart report-week-events", colors: ["#eeeeeea9"], download: "weekly_events_report", discrete: true %>   
        <% end %>
      <% end %>
      <%= content_tag(:div, class: "card-body") do %>
        <%= content_tag(:h4, "Eventos Semanales Totales", class: "card-title") %>
        <%= content_tag(:p, "Recuento de los eventos asociados a todas las tareas.", class: "card-category") %>
      <% end %>
      <%= render(Card::FooterComponent.new(title: "#{Event.count} eventos creados.", icon: 'list')) %>
    <% end %>
  <% end %>
  <%= content_tag(:div, class: "col-12") do %>
    <%= link_to render(Button::BaseComponent.new(title:'Nueva Tarea', color:'primary')), new_admin_homework_path, class: "pull-right" %>
    <%= link_to render(Button::BaseComponent.new(title:'Volver')), admin_dashboard_path %>
  <% end %>
<% end %>
